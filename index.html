<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
  <title>Gerador de recibo</title>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
  <script src="https://plentz.github.io/jquery-maskmoney/javascripts/jquery.maskMoney.min.js"
    type="text/javascript"></script>

  <script type="text/javascript" src="js/jspdf.min.js"></script>
  <script type="text/javascript">

    // Uma função que é chamada quando o DOM é caregado
    function chama() {
      // Iniciando colheita de dados e posterior geracao do pdf
      document.getElementById('enviar').onclick = pega;
    }

    // Função que pega o valor dos inputs
    function pega() {     

      var cpf = document.getElementById('cpf').value;
      var nume = document.getElementById('numero').value;
      var valor = document.getElementById('valor').value;
      var cliente = document.getElementById('cliente').value;
      var cnpj = document.getElementById('cnpj').value;
      var ende = document.getElementById('ende').value;
      var cep = document.getElementById('cep').value;
      var fone = document.getElementById('fone').value;
      var realizado = document.getElementById('realizado').value;


      var pdf = new jsPDF();
      //var pdf = new jsPDF('p','in','letter');

      var dataAtual = new Date().toLocaleString()

      pdf.setProperties({
        title: 'Gerador de Recibos',
        subject: 'Recibo',
        author: '',
        keywords: 'gerador de recibos pessoal',
        creator: 'gPDF, javascript, web 2.0, ajax'
      });

      // pdf.setDrawColor(0);
      // pdf.setFillColor(255, 255, 255);
      //  pdf.roundedRect(5, 8, 200, 18, 2, 2, 'FD'); //  Black sqaure with rounded corners

      // pdf.addImage(imgData, 5, 30); // adicionando background
      var img = new Image()
      img.src = 'https://i.imgur.com/vUqs8gW.png'
      pdf.addImage(img, 'png', 10, 78, 12, 15)

      pdf.setFont("helvetica");
      pdf.setFontType("normal");
      pdf.setFontSize(22);
      pdf.setTextColor(150); // cinza claro
      pdf.text(20, 20, 'RECIBO ' + nume);
      pdf.setTextColor(0); //isso deve ser preto
      pdf.setFontSize(18);
      pdf.text(120, 20, 'VALOR R$' + valor + '');
      pdf.setFontSize(12);
      pdf.text(20, 50, '  Recebi(emos) de ' + cliente + ' CPF/CNPJ nº ' + cnpj + ',a ');
      pdf.text(20, 55, 'importancia de R$' + valor + '. referente a(o) ' + realizado);
      pdf.text(20, 65, '  E, para maior clareza firmo o presente recibo para que produza os seus efeitos, dando');
      pdf.text(20, 70, 'plena, rasa e irrevogável quitação, pelo valor recebido.');
      pdf.text(30, 80, ' ' + ende + ', ' + cep + ', ' + dataAtual);
      pdf.text(70, 90, '___________________________');
      //	pdf.setLineWidth(0.5);
      //	pdf.line(70, 90, 60, 25);
      pdf.setFont("times");
      pdf.setFontType("italic");
      pdf.text(90, 95, ' ');
      pdf.setFont("helvetica");
      pdf.setFontType("normal");
      pdf.setFontSize(10);
      pdf.text(70, 105, 'LIMPA BEM MULTISERVIÇOS');
      pdf.text(10, 120, ' --------------------------------------------------------------- 1a via cliente ---------------------------------------------------------------------');




      pdf.save('recibo_' + cliente + '.pdf');

    }
  </script>
</head>

<body onload="chama()" style='background-color: silver; margin: 100px;'>

  <h1 class="title">Gerador de Recibo</h1>
  <p>Preencha conforme a sugestao do proprio campo para melhores resultados
  </p> <br> <br>
  <div padding>
    <input id="numero" placeholder="Numero do Recibo" value="" type="hidden" autofocus class="input"/>

    <input id="valor" placeholder="Valor" type="tel" class="input"/> <br>
   
    <input id="cpf" placeholder="CPF / CNPJ do Emissor" type="text" class="input"/><br>
    <input id="cliente" placeholder="Nome do Cliente" type="text" class="input"/>
    <input id="cnpj" placeholder="CNPJ do Cliente" type="text" class="input"/>
    <input id="data" placeholder="Data: 16 de Setembro de 2016" type="text" width="200" /> <br>
    <input id="ende" placeholder="Endereço do Cliente" type="text" class="input"/>
    <input id="cep" placeholder="Cep do Cliente" type="text" class="input"/>
    <input id="fone" placeholder="Fone do Cliente" type="text" class="input"/>
    <input id="realizado" placeholder="Servico Realizado" type="text" class="input"/>
  </div>
  <div padding>
    <button class="btn" block id="enviar">CRIAR RECIBO</button>
  </div>

  <script>
    $("#valor").maskMoney({ prefix: 'R$ ', allowNegative: true, thousands: '.', decimal: ',', affixesStay: false });
  </script>

  <style>
    .input{
      border-radius: 5px;
      padding: 10px;
      margin: 5px;
    }

    .btn{
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
    }


  </style>
</body>

</html>